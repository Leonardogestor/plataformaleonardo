# Variáveis de Ambiente Obrigatórias

## Database
# URL de conexão com PostgreSQL
# Formato: postgresql://[usuario]:[senha]@[host]:[porta]/[database]?schema=public
# Exemplo local: postgresql://postgres:postgres@localhost:5432/lmg_platform?schema=public
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/lmg_platform?schema=public"

## NextAuth
# URL da aplicação - USE A MESMA PORTA EM QUE O APP RODA (ex: 3001)
# Se o login retornar 401, confira se NEXTAUTH_URL está com a porta correta
NEXTAUTH_URL="http://localhost:3000"

# Secret para JWT (gere um novo em produção)
# Use: openssl rand -base64 32
NEXTAUTH_SECRET="your-super-secret-key-change-this-in-production-min-32-chars"

## App
NODE_ENV="development"

## Open Finance - Pluggy
# Get your credentials at https://dashboard.pluggy.ai
PLUGGY_CLIENT_ID="your-pluggy-client-id"
PLUGGY_CLIENT_SECRET="your-pluggy-client-secret"
PLUGGY_WEBHOOK_SECRET="your-pluggy-webhook-secret"

## Cron (watchdog documentos)
# Secret para autorizar chamadas ao /api/cron/watchdog-documents (Bearer ou ?secret=).
# Use um cron externo (ex: cron-job.org) que chame a URL com esse secret a cada 10 min.
# Gere: openssl rand -base64 24
CRON_SECRET=""

## Rate limit (Upstash Redis) – opcional
# Se definido, aplica limite por usuário em upload/reprocess de documentos e sync manual (ex: 10/min).
# Crie um Redis em https://console.upstash.com e defina:
# UPSTASH_REDIS_REST_URL=
# UPSTASH_REDIS_REST_TOKEN=

## Feature flag PDF (opcional)
# Se "false", upload de PDF continua mas o processamento em background NÃO é disparado (documento fica PROCESSING).
# Use para desativar o pipeline sem derrubar a plataforma. Omitir ou "true" = processamento ativo.
# PDF_PROCESSING_ENABLED=true

